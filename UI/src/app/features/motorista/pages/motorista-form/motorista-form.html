<!-- src/app/modules/gestao-frota/components/cadastro-motorista/cadastro-motorista.component.html -->
<div class="container">
  <div class="header">
    <h2>üë§ Cadastro de Motorista</h2>
    <button class="btn btn-secondary" (click)="onCancel()">‚Üê Voltar</button>
  </div>

  <form [formGroup]="motoristaForm" (ngSubmit)="onSubmit()" class="form">
    <div class="form-section">
      <h3>Informa√ß√µes Pessoais</h3>

      <div class="form-row">
        <div class="form-group full-width">
          <label for="nome">Nome Completo *</label>
          <input
            id="nome"
            type="text"
            formControlName="nome"
            class="form-control"
            [class.is-invalid]="submitted && motoristaForm.get('nome')?.invalid"
          />
          <div class="error-message" *ngIf="submitted && motoristaForm.get('nome')?.invalid">
            Nome √© obrigat√≥rio (m√≠nimo 3 caracteres)
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="cnh">CNH *</label>
          <input
            id="cnh"
            type="text"
            formControlName="cnh"
            class="form-control"
            placeholder="00000000000"
            [class.is-invalid]="submitted && motoristaForm.get('cnh')?.invalid"
          />
          <div class="error-message" *ngIf="submitted && motoristaForm.get('cnh')?.invalid">
            CNH √© obrigat√≥ria (11 d√≠gitos)
          </div>
        </div>

        <div class="form-group">
          <label for="categoriaCnh">Categoria CNH *</label>
          <select
            id="categoriaCnh"
            formControlName="categoriaCnh"
            class="form-control"
            [class.is-invalid]="submitted && motoristaForm.get('categoriaCnh')?.invalid"
          >
            <option value="">Selecione a categoria</option>
            <option *ngFor="let categoria of categoriasCnh" [value]="categoria">
              {{ categoria }}
            </option>
          </select>
          <div
            class="error-message"
            *ngIf="submitted && motoristaForm.get('categoriaCnh')?.invalid"
          >
            Categoria da CNH √© obrigat√≥ria
          </div>
        </div>
      </div>
    </div>

    <div class="form-section">
      <h3>Contato e Status</h3>

      <div class="form-row">
        <div class="form-group">
          <label for="telefone">Telefone *</label>
          <input
            id="telefone"
            type="text"
            formControlName="telefone"
            class="form-control"
            placeholder="(11) 99999-9999"
            (input)="formatarTelefone($event)"
            [class.is-invalid]="submitted && motoristaForm.get('telefone')?.invalid"
          />
          <div class="error-message" *ngIf="submitted && motoristaForm.get('telefone')?.invalid">
            Telefone √© obrigat√≥rio
          </div>
        </div>

        <div class="form-group">
          <label for="status">Status *</label>
          <select
            id="status"
            formControlName="status"
            class="form-control"
            [class.is-invalid]="submitted && motoristaForm.get('status')?.invalid"
          >
            <option *ngFor="let status of statusOptions" [value]="status">{{ status }}</option>
          </select>
          <div class="error-message" *ngIf="submitted && motoristaForm.get('status')?.invalid">
            Status √© obrigat√≥rio
          </div>
        </div>
      </div>
    </div>

    <div class="form-actions">
      <button type="button" class="btn btn-secondary" (click)="onCancel()">Cancelar</button>
      <button type="submit" class="btn btn-primary" [disabled]="loading">
        {{ loading ? 'Cadastrando...' : 'Cadastrar Motorista' }}
      </button>
    </div>
  </form>
</div>
